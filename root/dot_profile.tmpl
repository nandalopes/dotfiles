# ~/.profile: executed by the command interpreter for login shells.
# This file is not read by bash(1), if ~/.bash_profile or ~/.bash_login
# exists.
# see /usr/share/doc/bash/examples/startup-files for examples.
# the files are located in the bash-doc package.

# umask u=rwx,g=rx,o=  # 027

# if running bash
if [ -n "$BASH_VERSION" ]; then
  export yadr=" {{- .chezmoi.sourceDir -}} "
  # include .bashrc if it exists
  if [ -f "$HOME/.bashrc" ]; then
    . "$HOME"/.bashrc
  fi
fi

{{ template "shell/user_path" "" }}

# dotfiles
{{- $yadrPath := joinPath .chezmoi.sourceDir "bin" }}
PATH="$PATH:{{- $yadrPath -}}:{{- joinPath $yadrPath "yadr" -}}"

# Remove duplicate entries from PATH:
export PATH=$(echo "$PATH" | awk -v RS=':' -v ORS=":" '!a[$1]++{if (NR > 1) printf ORS; printf $a[$1]}')
